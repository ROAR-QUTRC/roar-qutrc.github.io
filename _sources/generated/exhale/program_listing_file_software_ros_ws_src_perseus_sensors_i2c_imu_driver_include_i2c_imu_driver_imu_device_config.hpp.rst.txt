
.. highlight:: none




.. _program_listing_file_software_ros_ws_src_perseus_sensors_i2c_imu_driver_include_i2c_imu_driver_imu_device_config.hpp:

Program Listing for File imu_device_config.hpp
==============================================

|exhale_lsh| :ref:`Return to documentation for file <file_software_ros_ws_src_perseus_sensors_i2c_imu_driver_include_i2c_imu_driver_imu_device_config.hpp>` (``software/ros_ws/src/perseus_sensors/i2c_imu_driver/include/i2c_imu_driver/imu_device_config.hpp``)

.. |exhale_lsh| unicode:: U+021B0 .. UPWARDS ARROW WITH TIP LEFTWARDS

.. code-block:: cpp

   #pragma once
   
   #include <cstdint>
   #include <functional>
   #include <optional>
   #include <string>
   #include <unordered_map>
   #include <vector>
   
   namespace i2c_imu_driver
   {
   
       struct ImuDeviceConfig
       {
           // Device identification
           std::string name;
           uint8_t default_address;
           uint8_t who_am_i_register;
           uint8_t who_am_i_value;
   
           // Data registers
           uint8_t accel_data_register;
           uint8_t gyro_data_register;
           uint8_t temp_data_register;
   
           // Control registers
           uint8_t reset_register;
           uint8_t accel_config_register;
           uint8_t gyro_config_register;
           uint8_t ctrl_register;
   
           // Configuration values
           uint8_t reset_value;
           uint8_t accel_config_value;
           uint8_t gyro_config_value;
           uint8_t ctrl_value;
   
           // Scale factors (for converting raw data to physical units)
           double accel_scale_factor;  // to convert to m/s²
           double gyro_scale_factor;   // to convert to rad/s
           double temp_scale_factor;   // to convert to °C
           double temp_offset;         // temperature offset in °C
   
           // Data format
           bool little_endian;
           uint8_t data_bytes_per_axis;
       };
   
       class ImuDeviceRegistry
       {
       public:
           static std::optional<std::reference_wrapper<const ImuDeviceConfig>> get_device_config(const std::string& device_name);
   
           static std::vector<std::string> get_supported_devices();
   
           static std::string get_default_device();
   
       private:
           static void _initialize_device_configs();
   
           static std::unordered_map<std::string, ImuDeviceConfig> _device_configs;
           static bool _initialized;
       };
   
   }  // namespace i2c_imu_driver
